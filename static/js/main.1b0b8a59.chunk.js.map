{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","assets/images/user.png","components/Users/Users.module.css","assets/images/loader.svg","components/Navbar/Navbar.module.css","components/common/FormControls/FormControls.js","serviceWorker.js","redux/sidebar-reducer.js","utils/validators/object-helpers.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","components/Users/UsersContainer.js","redux/users-selctors.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.js","App.js","index.js","components/common/preloader/Preloader.js","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","arguments","length","undefined","action","body","Object","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","concat","__webpack_require__","d","__webpack_exports__","usersAPI","profileAPI","authAPI","securityAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","baseURL","withCredentials","headers","API-KEY","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","Content-Type","saveProfile","profile","me","login","email","password","rememberMe","captcha","logout","getCaptchaUrl","module","exports","p","userPhoto","nav","item","activeLink","FormControl","_ref","input","meta","props","child","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","touched","error","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","s","formControl","children","Textarea","restProps","assign","Input","createField","placeholder","validators","component","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","Boolean","window","location","hostname","match","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","objectSpread","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","apiMethod","actionCreator","wrap","_context2","prev","next","sent","resultCode","stop","this","_x2","_x3","_x4","_x5","apply","usersReducer","followed","totalCount","toConsumableArray","filter","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","_callee","_response$data$data","_login","_context","_x","_ref3","_callee3","_context3","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","Navbar","react_default","NavLink","to","activeClassName","active","Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","cn","defineProperty","selectedPage","pageNumber","key","e","User","user","src","photos","small","usersPhoto","disabled","some","Users","objectWithoutProperties","common_Paginator_Paginator","Users_User","UsersContainer","_this","setCurrentPage","requestUsers","Fragment","Preloader","components_Users_Users","React","Component","mapDispatchToProps","bind","_x6","_ref4","_callee4","_context4","_x7","page","connect","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","Header","header","loginBlock","HeaderContainer","components_Header_Header","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","formSammuryError","stopSubmit","_error","Redirect","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Header_HeaderContainer","components_Navbar_Navbar","react","fallback","Route","path","render","Users_UsersContainer","components_Login_Login","AppContainer","withRouter","promise","Promise","all","SocialApp","HashRouter","react_redux_es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_loader_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_loader_svg__WEBPACK_IMPORTED_MODULE_1___default","preloader","maxLengthCreator","value","maxLength","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","file","_ref5","_callee5","getState","_context5","abrupt","reject","newPost","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","C_Users_User_Desktop_react_social_kama_react_way_of_samuray_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","postId"],"mappings":"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","file":"static/js/main.1b0b8a59.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrew'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valera'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = newMessageBody => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '7244807a-ddd9-49f2-aa3c-73ea155a3b51'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/user.f8a15e74.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__hRKOG\"};","module.exports = __webpack_public_path__ + \"static/media/loader.ca5fed74.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__7Yg2L\",\"item\":\"Navbar_item__2dwnC\",\"activeLink\":\"Navbar_activeLink__g1J7L\"};","import React from 'react';\r\nimport s from './FormControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = props => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = props => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => {\r\n    return <div><Field placeholder={placeholder} name={name} component={component} validate={validators} {...props} />{text}</div>\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {\r\n                ...u,\r\n                ...newObjProps\r\n            }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = userId => ({ type: FOLLOW, userId});\r\nexport const unfollowSuccess = userId => ({ type: UNFOLLOW, userId});\r\nexport const setUsers = users => ({ type: SET_USERS, users});\r\nexport const setCurrentPage = currentPage => ({ type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = totalCount => ({ type: SET_TOTAL_USERS_COUNT, totalCount});\r\nexport const toggleIsFetching = isFetching => ({ type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async dispatch => {\r\n        dispatch(toggleIsFetching(true));\r\n        const data = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const data = await apiMethod(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = userId => {\r\n    return async dispatch => {\r\n        const apiMethod = usersAPI.follow.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = userId => {\r\n    return async dispatch => {\r\n        const apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {authAPI, securityAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'my-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'my-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload:\r\n        {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = captchaUrl => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\nexport const getAuthUserData = () => async dispatch => {\r\n    const response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        const {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async dispatch => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n\r\n        const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n    const response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => dispatch => {\r\n    const promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;","import {combineReducers, createStore, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport { applyMiddleware } from \"redux\";\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleWare)\r\n));\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>News</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Music</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Settings</a>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            { portionNumber > 1 && <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map(p => {\r\n                    return (\r\n                        <span\r\n                            className={cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber)}\r\n                            key={p}\r\n                            onClick={e => onPageChanged(p)}\r\n                        >\r\n                            {p}\r\n                        </span>\r\n                    ) \r\n            })}\r\n            { portionCount > portionNumber && <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport usersPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={`/profile/${user.id}`}>\r\n                        <img src={user.photos.small !== null ? user.photos.small : usersPhoto} className={styles.userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => { unfollow(user.id) }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => { follow(user.id) }}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n                <div>\r\n                    <div>{'user.location.country'}</div>\r\n                    <div>{'user.location.city'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({users, currentPage, onPageChanged, totalItemsCount, pageSize, followingInProgress, unfollow, follow,  ...props}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalItemsCount} pageSize={pageSize} />\r\n            <div>\r\n                {users.map(u => <User user={u} followingInProgress={followingInProgress} unfollow={unfollow} follow={follow} key={u.id} />)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selctors';\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = pageNumber => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users\r\n                totalItemsCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                users={this.props.users}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// const mapStateToProps = state => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(UsersContainer);\r\n","export const getUsers = state => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = state => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = state => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = state => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = state => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = state => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    return <header className={s.header}>\r\n        <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png' />\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Logout</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Input, createField } from '../common/FormControls/FormControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../common/FormControls/FormControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', null, Input, {type: 'checkbox'}, 'Remember me')}\r\n\r\n            {captchaUrl && <img src={captchaUrl} />}\r\n            {captchaUrl && createField('Symbols from image', 'captcha', [required], Input)}\r\n\r\n            {error &&\r\n                <div className={s.formSammuryError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = props => {\r\n    const onSubmit = formData => {\r\n        const {email, password, rememberMe, captcha} = formData;\r\n        props.login(email, password, rememberMe);\r\n        props.login(email, password, rememberMe, captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React, { Suspense } from 'react';\nimport store from \"./redux/redux-store\";\nimport {HashRouter} from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport { Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/preloader/Preloader';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader />\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer />\n                <Navbar />\n                <div className='app-wrapper-content'>\n                    <Suspense fallback={<Preloader />}>\n                        <Route path='/profile/:userId?' render={ () => <ProfileContainer /> }/>\n                        <Route path='/dialogs' render={ () => <DialogsContainer /> }/>\n                    </Suspense>\n                        <Route path='/users' render={ () => <UsersContainer /> }/>\n                        <Route path='/login' render={ () => <Login /> }/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    initialized: state.app.initialized\n});\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\nconst SocialApp = props => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer />\n            </Provider>\n        </HashRouter>\n    )\n}\n\nexport default SocialApp","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from './App';\n\n\nReactDOM.render(<SocialApp />, document.getElementById('root'));\n\n// API\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preloader from '../../../assets/images/loader.svg';\r\n\r\nconst Preloader = () => {\r\n    return <img src={preloader} />;\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2_PTD\",\"error\":\"FormControls_error__2PZEi\",\"formSammuryError\":\"FormControls_formSammuryError__3kneh\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength}`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2ItlU\",\"pageNumber\":\"Paginator_pageNumber__1fmQr\",\"selectedPage\":\"Paginator_selectedPage__1ck2W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__15u2-\",\"loginBlock\":\"Header_loginBlock__3f86R\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 11},\r\n        {id: 3, message: 'Blabla', likesCount: 11},\r\n        {id: 4, message: 'Dada', likesCount: 11}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos }}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = newPostText => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = profile => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = status => ({type: SET_STATUS, status})\r\nexport const deletePost = postId => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccess = photos => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile = userId => async dispatch => {\r\n    const response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = userId => async dispatch => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n    const response = await profileAPI.updateStatus(status);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport const savePhoto = file => async dispatch => {\r\n    const response = await profileAPI.savePhoto(file);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = profile => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit(\"editProfile\", {_error: message})); // распарсить строку ошибки и сформировать для нужного поля, результат должен быть как в ниэней строке\r\n        // dispatch(stopSubmit(\"editProfile\", {'contacts': {'facebook': message} }));\r\n        return Promise.reject(message);\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}